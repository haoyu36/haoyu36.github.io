<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>python代码质量 | haoyu blog</title><meta name=keywords content="python"><meta name=description content="代码质量 [TOC]
相关文档：
编码质量 概述 Pythonic 就是充分利用 Python 语言特性，写出简洁优美的代码
Python 之禅 import this 是 Python 的一个彩蛋，在交互式解释器中输入就会显示。Python 之禅体现了 Python 的设计哲学，对于编程有很强的指导意义"><meta name=author content><link rel=canonical href=http://120.79.76.172:8381/post/python%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://120.79.76.172:8381/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://120.79.76.172:8381/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://120.79.76.172:8381/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://120.79.76.172:8381/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://120.79.76.172:8381/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="python代码质量"><meta property="og:description" content="代码质量 [TOC]
相关文档：
编码质量 概述 Pythonic 就是充分利用 Python 语言特性，写出简洁优美的代码
Python 之禅 import this 是 Python 的一个彩蛋，在交互式解释器中输入就会显示。Python 之禅体现了 Python 的设计哲学，对于编程有很强的指导意义"><meta property="og:type" content="article"><meta property="og:url" content="http://120.79.76.172:8381/post/python%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-10-26T15:00:55+00:00"><meta property="article:modified_time" content="2022-10-26T15:00:55+00:00"><meta property="og:site_name" content="haoyu blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="python代码质量"><meta name=twitter:description content="代码质量 [TOC]
相关文档：
编码质量 概述 Pythonic 就是充分利用 Python 语言特性，写出简洁优美的代码
Python 之禅 import this 是 Python 的一个彩蛋，在交互式解释器中输入就会显示。Python 之禅体现了 Python 的设计哲学，对于编程有很强的指导意义"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"http://120.79.76.172:8381/post/"},{"@type":"ListItem","position":3,"name":"python代码质量","item":"http://120.79.76.172:8381/post/python%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"python代码质量","name":"python代码质量","description":"代码质量 [TOC]\n相关文档：\n编码质量 概述 Pythonic 就是充分利用 Python 语言特性，写出简洁优美的代码\nPython 之禅 import this 是 Python 的一个彩蛋，在交互式解释器中输入就会显示。Python 之禅体现了 Python 的设计哲学，对于编程有很强的指导意义","keywords":["python"],"articleBody":"代码质量 [TOC]\n相关文档：\n编码质量 概述 Pythonic 就是充分利用 Python 语言特性，写出简洁优美的代码\nPython 之禅 import this 是 Python 的一个彩蛋，在交互式解释器中输入就会显示。Python 之禅体现了 Python 的设计哲学，对于编程有很强的指导意义\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 In : import this The Zen of Python, by Tim Peters Beautiful is better than ugly. Explicit is better than implicit. Simple is better than complex. Complex is better than complicated. Flat is better than nested. Sparse is better than dense. Readability counts. Special cases aren't special enough to break the rules. Although practicality beats purity. Errors should never pass silently. Unless explicitly silenced. In the face of ambiguity, refuse the temptation to guess. There should be one-- and preferably only one --obvious way to do it. Although that way may not be obvious at first unless you're Dutch. Now is better than never. Although never is often better than *right* now. If the implementation is hard to explain, it's a bad idea. If the implementation is easy to explain, it may be a good idea. Namespaces are one honking great idea -- let's do more of those! 优美胜于丑陋 明了胜于晦涩 简洁胜于复杂 复杂胜于凌乱 扁平胜于嵌套 间隔胜于紧凑 可读性很重要 特例并没有有特殊到可以违背规则的地步 虽然适用性胜于纯粹性，也不该默默地忽略错误，除非明确地忽略 当存在多种可能时，不要尝试去猜测，尽量找一种，最好只有一种明显的解决方案，虽然这并不如意，因为你不是Python 之父 做也许好过不做，但盲目动手还不如不做 如果方案很难解释，那就不是最好的方案 如果方案容易解释，那么有可能这是一个好方案 命名空间是一种绝妙的理念，我们应当多加利用 如何写出 Pythonic 的代码 熟悉 PEP8 规范 熟悉 Python 语言语法及 Python 特性，如装饰器，元类，描述符，列表解析，with 上下文管理器和魔法方法等 阅读优秀的开源代码和 Python 标准库 参考资料：\n文档 PEP 8 Google 开源项目风格指南 How to Write Beautiful Python Code With PEP 8 python-guide Code Style Python 项目工程实践 书籍 《Effective Python：编写高质量 Python 代码的 59 个有效方法》 《编写高质量代码：改善Python程序的91个建议》 命名规范 命名：\n命名要具有描述性，变量，函数，类的名称应该告诉你，它为什么会存在，它做什么事，应该怎么用 一个好的名称不需要注释来补充，相比变量名的长度，清晰的描述非常重要 变量 变量名只能以下划线，数字，字母组成，不可以是空格或特殊字符 不能以中文为变量名 不能以数字或大写开头 保留字符不能被使用 变量名区分大小写 全局变量使用全大写+下划线 如 var, my_variable, MY_CONSTANT\n函数、类、模块、包 函数和方法：全小写+下划线式驼峰，如 function, my_function 类：首字母大写式驼峰，如 SQLEngine, TestCase 模块：全小写+下划线式驼峰，如 module.py, my_module.py 包：使用小写单词，不要用下划线分开。如 package, mypackage 避免使用 不使用单字符名称, 除了计数器和迭代器 不要使用 l，O 或 I 单个字母名称，可能会被误认为是 1 和 0 避免通用名称，如 list, dict 等等 避免使用现有名称，如 class 常改为 klass 或 cls 最佳实践 使用 has 或 is 前缀命名布尔元素 用复数形式命名序列元素 用显示的名称命名字典 1 2 3 4 5 is_connected = False the_world_is_flat = True has_cacha = False tables = [1,2,3] person_emails = {'haoyu': \"747464004@qq.com\"} 代码布局 空格 dict : 后面加一个空格 注释符号的 # 后面加一个空格，但 #!/usr/bin/python 后不能加 操作符两端加一个空格，如 +, -, *, /, |, \u0026, = 但 ** 和 ()里的符号不加 参数列表里的 = 两端也不需要加 括号(), {}, [] 内的两端不需要空格 1 2 3 4 5 6 7 8 9 10 11 12 # 不推荐 y = x ** 2 + 5 z = (x + y) * (x - y) if x \u003e 5 and x % 2 == 0: # 推荐 y = x**2 + 5 z = (x+y) * (x-y) if x\u003e5 and x%2==0: list[3:4] list[x+1 : x+2] 空行 顶级函数和类空两行 类内部函数之间空一行 函数内功能复杂时可以使用空行隔开 最大长度 PEP 8 建议行数限制为 79 个字符，为了提高可读性可适当增加长度 如果代码包含在括号，括号或大括号中，Python 将假定行继续 可以使用反斜杠继续一行 在二元运算符之前断行 1 2 3 4 5 6 7 8 9 10 def function(arg_one, arg_two, arg_three, arg_four): return arg_one from mypkg import example1, \\ example2, example3 total = (first_variable + second_variable - third_variable) 缩进 所有缩进使用 4 个空格，不要使用 tab，更不要混用 将缩进块与开口分隔符对齐 除了段落或语句中的第一行之外的每一行都是缩进的 将右大括号与启动构造的行的第一个字符对齐 1 2 3 4 5 6 7 8 9 10 11 12 13 14 def function(arg_one, arg_two, arg_three, arg_four): return arg_one def function( arg_one, arg_two, arg_three, arg_four): return arg_one list_of_numbers = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, # 最后一行加逗号更易维护 ] import 顺序 import 尽量放在文件开头，在 docstring 下面 杜绝 from xxx imort * 导入顺序 标准库导入 第三方库导入 应用程序自定义模块 如果导入名字重复，可以通过 as 别名 import 过长，要放在多行的时候，使用 from xxx import（a, b, c）不要用 \\ 换行 注释 python 注释分为两种：\n由 # 开头的“真正的”注释，说明选择当前实现的原因以及这种实现的原理和难点 文档字符串，说明如何使用包、模块、类、函数（方法），甚至包括使用示例和单元测试。可以通过 doc 成员访问到 最佳实践：\n好的注释解释为什么，而不是怎么样 不要在注视中重复描述代码 最需要写注释的是代码中那些技巧性的部分 文档字符串应该包含函数做什么, 以及输入和输出的详细描述 将注释和文档字符串的行长度限制为 72 个字符 使用完整的句子，以大写字母开头 其他 当一个函数，类或一个代码太大时，应该对其分解 一个函数或一个方法的内容不应该超过一个屏幕，大约 25~30 行 类的方法数量不超过 10 个 一个模块不超过 500 行 提前判断并 return，减少代码层级，增强代码可读性 编码建议 字符串 使用字符串的 join 方法拼接字符串 使用字符串类型的方法，而不是 string 模块的方法 使用 startswith 和 endswith 方法比较前缀和后缀 使用 format 方法格式化字符串 比较 空的 list, str, tuple, set, dict 和 0, 0.0, None 都是 False 使用 if some_list 而不是 if len(some_list) 判断某个 list 是否为空，其他类型同理 使用 is 和 is not 与单例（如 None）进行比较，而不是用 == 和 != 使用 if a is not None 而不是 if not a is None 用 isinstance 而不是 type 判断类型 不要用 == 和 != 与 True 和 False 比较（除非有特殊情况，如在 sqlalchemy 中可能用到） 用 key in dict 而不是 dict.has_key()，每调用一次keys()函数，系统就会生成一个新的字典迭代器 用 set 加速 “存在性” 检查，list 的查找是线性的，复杂度 O(n)，set 底层是 hash table, 复杂度 O(1)，但用 set 需要比 list 更多内存空间 其他 不要使用默认可变对象作为默认参数，可变类型使用 None 作为占位符，因为可变类型可能会被函数修改(副作用)，导致调用代码后边使用它的地方出问题 使用列表表达式（list comprehension），字典表达式(dict comprehension, Python 2.7+) 和生成器(generator) 不建议复杂的列表推导式和条件表达式 dict 的 get 方法可以指定默认值，但有些时候应该用 [] 操作，使得可以抛出 KeyError 使用 for item in list 迭代 list, for index, item in enumerate(list) 迭代 list 并获取下标 使用内建函数 sorted 和 list.sort 进行排序 适量使用 map, reduce, filter 和 lambda，使用内建的 all, any 处理多个条件的判断 使用 defaultdict (Python 2.5+), Counter(Python 2.7+) 等 “冷门” 但好用的标准库算法和数据结构 使用装饰器(decorator) 使用 with 语句处理上下文 有些时候不要对类型做太过严格的限制，利用 Python 的鸭子类型（Duck Type）特性 使用 logging 记录日志，配置好格式和级别 了解 Python 的 Magic Method：A Guide to Python’s Magic Methods, Python 魔术方法指南 阅读优秀的开源代码，如 Flask 框架, Requests for Humans 不要重复造轮子，查看标准库、PyPi、Github、Google 等使用现有的优秀的解决方案 文件编码和编码格式设置为 utf-8，在文件开头加 # -*- coding: utf-8 -*- 。详见 编码 非 ascii 字符的字符串加 u 前缀 工具 Flake8 为了确保代码质量，需要借助静态检查工具，Flake8 是目前最流行的 Python 代码质量检查工具\nFlake8 包含了以下三个工具\nPyFlakes：静态检查 Python 代码逻辑错误的工具 Pycodestyle：静态检查 PEP8 编码风格的工具 NedBatchelder’s McCabe script：静态分析 Python 代码复杂度的工具 Flake8 的输出的格式为“文件路径：行号：列号：错误码错误描述”，比如：\n./myapp/models/__init__.py:4:1: F401 '.blog.Post' imported but unused\n错误类型：\nC90 | 不符合代码复杂度 E | E 开头的表示是 pycodestyle 报告的 error 级别错误 F | F 开头的由 pyflakes 报告的 W | W 开头的表示是 pycodestyle 报告的 warn 级别错误 详细错误见官方文档\n相关链接：\nflake8官方文档 pylint Pylint 是一个 Python 代码分析工具，它用于分析 Python 代码的错误，查找不符合代码风格标准（Pylint 默认使用的代码风格是 PEP 8）和有潜在问题的代码\n功能：\n检查代码风格是否符合PEP8规范 检查代码是否存在常见的错误和违反最佳实践 检查重复的代码 1 2 3 4 5 6 7 8 9 10 pip install -U pylint # 安装 pylint\t[options]\tmodule_or_package_or_file # 对模块/包/文件运行pylint # --rcfile= 指定检查的配置文件 # --ignore= 不进行检查的文件列表 # --disable= 关闭某种类型的检查 # -f 报告类型, 如html pylint --help-msg 查看某种类型问题的帮助 pylint --generate-rcfile 根据当前配置生成配置文件 类型：\nC（Convention, 约定） R（Refactor, 重构） W（Warning, 警告） E （Error, 错误） 相关链接：\npylint官方文档 PyLint Messages autopep8 整理格式\n","wordCount":"898","inLanguage":"en","datePublished":"2022-10-26T15:00:55Z","dateModified":"2022-10-26T15:00:55Z","mainEntityOfPage":{"@type":"WebPage","@id":"http://120.79.76.172:8381/post/python%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/"},"publisher":{"@type":"Organization","name":"haoyu blog","logo":{"@type":"ImageObject","url":"http://120.79.76.172:8381/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://120.79.76.172:8381 accesskey=h title="haoyu blog (Alt + H)"><img src=http://120.79.76.172:8381/apple-touch-icon.png alt aria-label=logo height=35>haoyu blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://120.79.76.172:8381/archives/ title=时间轴><span>时间轴</span></a></li><li><a href=http://120.79.76.172:8381/tags/ title=标签><span>标签</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://120.79.76.172:8381>Home</a>&nbsp;»&nbsp;<a href=http://120.79.76.172:8381/post/>Posts</a></div><h1 class=post-title>python代码质量</h1><div class=post-meta><span title='2022-10-26 15:00:55 +0000 UTC'>October 26, 2022</span>&nbsp;·&nbsp;898 words</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#概述>概述</a><ul><li><a href=#python-之禅>Python 之禅</a></li><li><a href=#如何写出-pythonic-的代码>如何写出 Pythonic 的代码</a></li></ul></li><li><a href=#命名规范>命名规范</a><ul><li><a href=#变量>变量</a></li><li><a href=#函数类模块包>函数、类、模块、包</a></li><li><a href=#避免使用>避免使用</a></li><li><a href=#最佳实践>最佳实践</a></li></ul></li><li><a href=#代码布局>代码布局</a><ul><li><a href=#空格>空格</a></li><li><a href=#空行>空行</a></li><li><a href=#最大长度>最大长度</a></li><li><a href=#缩进>缩进</a></li><li><a href=#import-顺序>import 顺序</a></li><li><a href=#注释>注释</a></li><li><a href=#其他>其他</a></li></ul></li><li><a href=#编码建议>编码建议</a><ul><li><a href=#字符串>字符串</a></li><li><a href=#比较>比较</a></li><li><a href=#其他-1>其他</a></li></ul></li><li><a href=#工具>工具</a><ul><li><a href=#flake8>Flake8</a></li><li><a href=#pylint>pylint</a></li><li><a href=#autopep8>autopep8</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h1 id=代码质量>代码质量<a hidden class=anchor aria-hidden=true href=#代码质量>#</a></h1><p>[TOC]</p><p>相关文档：</p><ul><li><a href=:/6a563d5d93344fbfa2140f5efcc4a836>编码质量</a></li></ul><h2 id=概述>概述<a hidden class=anchor aria-hidden=true href=#概述>#</a></h2><blockquote><p>Pythonic 就是充分利用 Python 语言特性，写出简洁优美的代码</p></blockquote><h3 id=python-之禅>Python 之禅<a hidden class=anchor aria-hidden=true href=#python-之禅>#</a></h3><p><code>import this</code> 是 Python 的一个彩蛋，在交互式解释器中输入就会显示。Python 之禅体现了 Python 的设计哲学，对于编程有很强的指导意义</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>In</span> <span class=p>:</span> <span class=kn>import</span> <span class=nn>this</span>
</span></span><span class=line><span class=cl><span class=n>The</span> <span class=n>Zen</span> <span class=n>of</span> <span class=n>Python</span><span class=p>,</span> <span class=n>by</span> <span class=n>Tim</span> <span class=n>Peters</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Beautiful</span> <span class=ow>is</span> <span class=n>better</span> <span class=n>than</span> <span class=n>ugly</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Explicit</span> <span class=ow>is</span> <span class=n>better</span> <span class=n>than</span> <span class=n>implicit</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Simple</span> <span class=ow>is</span> <span class=n>better</span> <span class=n>than</span> <span class=nb>complex</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Complex</span> <span class=ow>is</span> <span class=n>better</span> <span class=n>than</span> <span class=n>complicated</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Flat</span> <span class=ow>is</span> <span class=n>better</span> <span class=n>than</span> <span class=n>nested</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Sparse</span> <span class=ow>is</span> <span class=n>better</span> <span class=n>than</span> <span class=n>dense</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Readability</span> <span class=n>counts</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Special</span> <span class=n>cases</span> <span class=n>aren</span><span class=s1>&#39;t special enough to break the rules.</span>
</span></span><span class=line><span class=cl><span class=n>Although</span> <span class=n>practicality</span> <span class=n>beats</span> <span class=n>purity</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Errors</span> <span class=n>should</span> <span class=n>never</span> <span class=k>pass</span> <span class=n>silently</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Unless</span> <span class=n>explicitly</span> <span class=n>silenced</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>In</span> <span class=n>the</span> <span class=n>face</span> <span class=n>of</span> <span class=n>ambiguity</span><span class=p>,</span> <span class=n>refuse</span> <span class=n>the</span> <span class=n>temptation</span> <span class=n>to</span> <span class=n>guess</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>There</span> <span class=n>should</span> <span class=n>be</span> <span class=n>one</span><span class=o>--</span> <span class=ow>and</span> <span class=n>preferably</span> <span class=n>only</span> <span class=n>one</span> <span class=o>--</span><span class=n>obvious</span> <span class=n>way</span> <span class=n>to</span> <span class=n>do</span> <span class=n>it</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Although</span> <span class=n>that</span> <span class=n>way</span> <span class=n>may</span> <span class=ow>not</span> <span class=n>be</span> <span class=n>obvious</span> <span class=n>at</span> <span class=n>first</span> <span class=n>unless</span> <span class=n>you</span><span class=s1>&#39;re Dutch.</span>
</span></span><span class=line><span class=cl><span class=n>Now</span> <span class=ow>is</span> <span class=n>better</span> <span class=n>than</span> <span class=n>never</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Although</span> <span class=n>never</span> <span class=ow>is</span> <span class=n>often</span> <span class=n>better</span> <span class=n>than</span> <span class=o>*</span><span class=n>right</span><span class=o>*</span> <span class=n>now</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>If</span> <span class=n>the</span> <span class=n>implementation</span> <span class=ow>is</span> <span class=n>hard</span> <span class=n>to</span> <span class=n>explain</span><span class=p>,</span> <span class=n>it</span><span class=s1>&#39;s a bad idea.</span>
</span></span><span class=line><span class=cl><span class=n>If</span> <span class=n>the</span> <span class=n>implementation</span> <span class=ow>is</span> <span class=n>easy</span> <span class=n>to</span> <span class=n>explain</span><span class=p>,</span> <span class=n>it</span> <span class=n>may</span> <span class=n>be</span> <span class=n>a</span> <span class=n>good</span> <span class=n>idea</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>Namespaces</span> <span class=n>are</span> <span class=n>one</span> <span class=n>honking</span> <span class=n>great</span> <span class=n>idea</span> <span class=o>--</span> <span class=n>let</span><span class=s1>&#39;s do more of those!</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>优美胜于丑陋</li><li>明了胜于晦涩</li><li>简洁胜于复杂</li><li>复杂胜于凌乱</li><li>扁平胜于嵌套</li><li>间隔胜于紧凑</li><li>可读性很重要</li><li>特例并没有有特殊到可以违背规则的地步</li><li>虽然适用性胜于纯粹性，也不该默默地忽略错误，除非明确地忽略</li><li>当存在多种可能时，不要尝试去猜测，尽量找一种，最好只有一种明显的解决方案，虽然这并不如意，因为你不是Python 之父</li><li>做也许好过不做，但盲目动手还不如不做</li><li>如果方案很难解释，那就不是最好的方案</li><li>如果方案容易解释，那么有可能这是一个好方案</li><li>命名空间是一种绝妙的理念，我们应当多加利用</li></ul><h3 id=如何写出-pythonic-的代码>如何写出 Pythonic 的代码<a hidden class=anchor aria-hidden=true href=#如何写出-pythonic-的代码>#</a></h3><ul><li>熟悉 PEP8 规范</li><li>熟悉 Python 语言语法及 Python 特性，如装饰器，元类，描述符，列表解析，with 上下文管理器和魔法方法等</li><li>阅读优秀的开源代码和 Python 标准库</li></ul><p>参考资料：</p><ul><li>文档<ul><li><a href=http://pep8.org/>PEP 8</a></li><li><a href=http://zh-google-styleguide.readthedocs.io/en/latest/contents/>Google 开源项目风格指南</a></li><li><a href=https://realpython.com/python-pep8/>How to Write Beautiful Python Code With PEP 8</a></li><li><a href=https://docs.python-guide.org/writing/style/>python-guide Code Style</a></li><li><a href=https://zhuanlan.zhihu.com/p/32902344>Python 项目工程实践</a></li></ul></li><li>书籍<ul><li>《Effective Python：编写高质量 Python 代码的 59 个有效方法》</li><li>《编写高质量代码：改善Python程序的91个建议》</li></ul></li></ul><h2 id=命名规范>命名规范<a hidden class=anchor aria-hidden=true href=#命名规范>#</a></h2><p>命名：</p><ul><li>命名要具有描述性，变量，函数，类的名称应该告诉你，它为什么会存在，它做什么事，应该怎么用</li><li>一个好的名称不需要注释来补充，相比变量名的长度，清晰的描述非常重要</li></ul><h3 id=变量>变量<a hidden class=anchor aria-hidden=true href=#变量>#</a></h3><ul><li>变量名只能以下划线，数字，字母组成，不可以是空格或特殊字符</li><li>不能以中文为变量名</li><li>不能以数字或大写开头</li><li>保留字符不能被使用</li><li>变量名区分大小写</li><li>全局变量使用全大写+下划线</li></ul><p>如 <code>var, my_variable, MY_CONSTANT</code></p><h3 id=函数类模块包>函数、类、模块、包<a hidden class=anchor aria-hidden=true href=#函数类模块包>#</a></h3><ul><li>函数和方法：全小写+下划线式驼峰，如 <code>function, my_function</code></li><li>类：首字母大写式驼峰，如 <code>SQLEngine, TestCase</code></li><li>模块：全小写+下划线式驼峰，如 <code>module.py, my_module.py</code></li><li>包：使用小写单词，不要用下划线分开。如 <code>package, mypackage</code></li></ul><h3 id=避免使用>避免使用<a hidden class=anchor aria-hidden=true href=#避免使用>#</a></h3><ul><li>不使用单字符名称, 除了计数器和迭代器</li><li>不要使用 l，O 或 I 单个字母名称，可能会被误认为是 1 和 0</li><li>避免通用名称，如 list, dict 等等</li><li>避免使用现有名称，如 class 常改为 klass 或 cls</li></ul><h3 id=最佳实践>最佳实践<a hidden class=anchor aria-hidden=true href=#最佳实践>#</a></h3><ul><li>使用 has 或 is 前缀命名布尔元素</li><li>用复数形式命名序列元素</li><li>用显示的名称命名字典</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>is_connected</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=n>the_world_is_flat</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=n>has_cacha</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=n>tables</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>person_emails</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;haoyu&#39;</span><span class=p>:</span> <span class=s2>&#34;747464004@qq.com&#34;</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=代码布局>代码布局<a hidden class=anchor aria-hidden=true href=#代码布局>#</a></h2><h3 id=空格>空格<a hidden class=anchor aria-hidden=true href=#空格>#</a></h3><ul><li>dict : 后面加一个空格</li><li>注释符号的 # 后面加一个空格，但 #!/usr/bin/python 后不能加</li><li>操作符两端加一个空格，如 +, -, *, /, |, &, =<ul><li>但 ** 和 ()里的符号不加</li><li>参数列表里的 = 两端也不需要加</li></ul></li><li>括号(), {}, [] 内的两端不需要空格</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 不推荐</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=n>x</span> <span class=o>**</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=n>z</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span> <span class=o>+</span> <span class=n>y</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=n>x</span> <span class=o>-</span> <span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>x</span> <span class=o>&gt;</span> <span class=mi>5</span> <span class=ow>and</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 推荐</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=o>+</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=n>z</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span><span class=o>+</span><span class=n>y</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=n>x</span><span class=o>-</span><span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>x</span><span class=o>&gt;</span><span class=mi>5</span> <span class=ow>and</span> <span class=n>x</span><span class=o>%</span><span class=mi>2</span><span class=o>==</span><span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>list</span><span class=p>[</span><span class=mi>3</span><span class=p>:</span><span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>list</span><span class=p>[</span><span class=n>x</span><span class=o>+</span><span class=mi>1</span> <span class=p>:</span> <span class=n>x</span><span class=o>+</span><span class=mi>2</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=空行>空行<a hidden class=anchor aria-hidden=true href=#空行>#</a></h3><ul><li>顶级函数和类空两行</li><li>类内部函数之间空一行</li><li>函数内功能复杂时可以使用空行隔开</li></ul><h3 id=最大长度>最大长度<a hidden class=anchor aria-hidden=true href=#最大长度>#</a></h3><ul><li>PEP 8 建议行数限制为 79 个字符，为了提高可读性可适当增加长度</li><li>如果代码包含在括号，括号或大括号中，Python 将假定行继续</li><li>可以使用反斜杠继续一行</li><li>在二元运算符之前断行</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>function</span><span class=p>(</span><span class=n>arg_one</span><span class=p>,</span> <span class=n>arg_two</span><span class=p>,</span>
</span></span><span class=line><span class=cl>             <span class=n>arg_three</span><span class=p>,</span> <span class=n>arg_four</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>arg_one</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>mypkg</span> <span class=kn>import</span> <span class=n>example1</span><span class=p>,</span> \
</span></span><span class=line><span class=cl>    <span class=n>example2</span><span class=p>,</span> <span class=n>example3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>total</span> <span class=o>=</span> <span class=p>(</span><span class=n>first_variable</span>
</span></span><span class=line><span class=cl>         <span class=o>+</span> <span class=n>second_variable</span>
</span></span><span class=line><span class=cl>         <span class=o>-</span> <span class=n>third_variable</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=缩进>缩进<a hidden class=anchor aria-hidden=true href=#缩进>#</a></h3><ul><li>所有缩进使用 4 个<strong>空格</strong>，不要使用 tab，更不要混用</li><li>将缩进块与开口分隔符对齐</li><li>除了段落或语句中的第一行之外的每一行都是缩进的</li><li>将右大括号与启动构造的行的第一个字符对齐</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>function</span><span class=p>(</span><span class=n>arg_one</span><span class=p>,</span> <span class=n>arg_two</span><span class=p>,</span>
</span></span><span class=line><span class=cl>             <span class=n>arg_three</span><span class=p>,</span> <span class=n>arg_four</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>arg_one</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>function</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>arg_one</span><span class=p>,</span> <span class=n>arg_two</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>arg_three</span><span class=p>,</span> <span class=n>arg_four</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>arg_one</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list_of_numbers</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span>    <span class=c1># 最后一行加逗号更易维护</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=import-顺序>import 顺序<a hidden class=anchor aria-hidden=true href=#import-顺序>#</a></h3><ul><li>import 尽量放在文件开头，在 docstring 下面</li><li>杜绝 from xxx imort *</li><li>导入顺序<ol><li>标准库导入</li><li>第三方库导入</li><li>应用程序自定义模块</li></ol></li><li>如果导入名字重复，可以通过 as 别名</li><li>import 过长，要放在多行的时候，使用 from xxx import（a, b, c）不要用 \ 换行</li></ul><h3 id=注释>注释<a hidden class=anchor aria-hidden=true href=#注释>#</a></h3><p>python 注释分为两种：</p><ul><li>由 # 开头的“真正的”注释，说明选择当前实现的原因以及这种实现的原理和难点</li><li>文档字符串，说明如何使用包、模块、类、函数（方法），甚至包括使用示例和单元测试。可以通过 <strong>doc</strong> 成员访问到</li></ul><p>最佳实践：</p><ul><li>好的注释解释为什么，而不是怎么样</li><li>不要在注视中重复描述代码</li><li>最需要写注释的是代码中那些技巧性的部分</li><li>文档字符串应该包含函数做什么, 以及输入和输出的详细描述</li><li>将注释和文档字符串的行长度限制为 72 个字符</li><li>使用完整的句子，以大写字母开头</li></ul><h3 id=其他>其他<a hidden class=anchor aria-hidden=true href=#其他>#</a></h3><ul><li>当一个函数，类或一个代码太大时，应该对其分解</li><li>一个函数或一个方法的内容不应该超过一个屏幕，大约 25~30 行</li><li>类的方法数量不超过 10 个</li><li>一个模块不超过 500 行</li><li>提前判断并 return，减少代码层级，增强代码可读性</li></ul><h2 id=编码建议>编码建议<a hidden class=anchor aria-hidden=true href=#编码建议>#</a></h2><h3 id=字符串>字符串<a hidden class=anchor aria-hidden=true href=#字符串>#</a></h3><ul><li>使用字符串的 join 方法拼接字符串</li><li>使用字符串类型的方法，而不是 string 模块的方法</li><li>使用 startswith 和 endswith 方法比较前缀和后缀</li><li>使用 format 方法格式化字符串</li></ul><h3 id=比较>比较<a hidden class=anchor aria-hidden=true href=#比较>#</a></h3><ul><li>空的 list, str, tuple, set, dict 和 0, 0.0, None 都是 False</li><li>使用 if some_list 而不是 if len(some_list) 判断某个 list 是否为空，其他类型同理</li><li>使用 is 和 is not 与单例（如 None）进行比较，而不是用 == 和 !=</li><li>使用 if a is not None 而不是 if not a is None</li><li>用 isinstance 而不是 type 判断类型</li><li>不要用 == 和 != 与 True 和 False 比较（除非有特殊情况，如在 sqlalchemy 中可能用到）</li><li>用 key in dict 而不是 dict.has_key()，每调用一次keys()函数，系统就会生成一个新的字典迭代器</li><li>用 set 加速 “存在性” 检查，list 的查找是线性的，复杂度 O(n)，set 底层是 hash table, 复杂度 O(1)，但用 set 需要比 list 更多内存空间</li></ul><h3 id=其他-1>其他<a hidden class=anchor aria-hidden=true href=#其他-1>#</a></h3><ul><li>不要使用默认可变对象作为默认参数，可变类型使用 None 作为占位符，因为可变类型可能会被函数修改(副作用)，导致调用代码后边使用它的地方出问题</li><li>使用列表表达式（list comprehension），字典表达式(dict comprehension, Python 2.7+) 和生成器(generator)</li><li>不建议复杂的列表推导式和条件表达式</li><li>dict 的 get 方法可以指定默认值，但有些时候应该用 [] 操作，使得可以抛出 KeyError</li><li>使用 for item in list 迭代 list, for index, item in enumerate(list) 迭代 list 并获取下标</li><li>使用内建函数 sorted 和 list.sort 进行排序</li><li>适量使用 map, reduce, filter 和 lambda，使用内建的 all, any 处理多个条件的判断</li><li>使用 defaultdict (Python 2.5+), Counter(Python 2.7+) 等 “冷门” 但好用的标准库算法和数据结构</li><li>使用装饰器(decorator)</li><li>使用 with 语句处理上下文</li><li>有些时候不要对类型做太过严格的限制，利用 Python 的鸭子类型（Duck Type）特性</li><li>使用 logging 记录日志，配置好格式和级别</li><li>了解 Python 的 Magic Method：A Guide to Python’s Magic Methods, Python 魔术方法指南</li><li>阅读优秀的开源代码，如 Flask 框架, Requests for Humans</li><li>不要重复造轮子，查看标准库、PyPi、Github、Google 等使用现有的优秀的解决方案</li><li>文件编码和编码格式设置为 <code>utf-8</code>，在文件开头加 <code># -*- coding: utf-8 -*-</code> 。详见 <a href=:/b938f70c2ce54401b91c87184c2e5089>编码</a></li><li>非 <code>ascii</code> 字符的字符串加 u 前缀</li></ul><h2 id=工具>工具<a hidden class=anchor aria-hidden=true href=#工具>#</a></h2><h3 id=flake8>Flake8<a hidden class=anchor aria-hidden=true href=#flake8>#</a></h3><p>为了确保代码质量，需要借助静态检查工具，Flake8 是目前最流行的 Python 代码质量检查工具</p><p>Flake8 包含了以下三个工具</p><ol><li>PyFlakes：静态检查 Python 代码逻辑错误的工具</li><li>Pycodestyle：静态检查 PEP8 编码风格的工具</li><li>NedBatchelder’s McCabe script：静态分析 Python 代码复杂度的工具</li></ol><p>Flake8 的输出的格式为“文件路径：行号：列号：错误码错误描述”，比如：</p><p><code>./myapp/models/__init__.py:4:1: F401 '.blog.Post' imported but unused</code></p><p><strong>错误类型：</strong></p><ol><li>C90 | 不符合代码复杂度</li><li>E | E 开头的表示是 pycodestyle 报告的 error 级别错误</li><li>F | F 开头的由 pyflakes 报告的</li><li>W | W 开头的表示是 pycodestyle 报告的 warn 级别错误</li></ol><p>详细错误见官方文档</p><p>相关链接：</p><ul><li><a href=http://flake8.pycqa.org/en/latest/index.html>flake8官方文档</a></li></ul><h3 id=pylint>pylint<a hidden class=anchor aria-hidden=true href=#pylint>#</a></h3><p>Pylint 是一个 Python 代码分析工具，它用于分析 Python 代码的错误，查找不符合代码风格标准（Pylint 默认使用的代码风格是 PEP 8）和有潜在问题的代码</p><p>功能：</p><ul><li>检查代码风格是否符合PEP8规范</li><li>检查代码是否存在常见的错误和违反最佳实践</li><li>检查重复的代码</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>pip install -U pylint    <span class=c1># 安装</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>pylint	<span class=o>[</span>options<span class=o>]</span>	module_or_package_or_file  <span class=c1># 对模块/包/文件运行pylint</span>
</span></span><span class=line><span class=cl><span class=c1># --rcfile=&lt;file&gt; 指定检查的配置文件</span>
</span></span><span class=line><span class=cl><span class=c1># --ignore=&lt;file&gt; 不进行检查的文件列表</span>
</span></span><span class=line><span class=cl><span class=c1># --disable=&lt;msg ids&gt; 关闭某种类型的检查</span>
</span></span><span class=line><span class=cl><span class=c1># -f &lt;format&gt; 报告类型, 如html</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>pylint --help-msg &lt;msg-id&gt;  查看某种类型问题的帮助
</span></span><span class=line><span class=cl>pylint --generate-rcfile 根据当前配置生成配置文件
</span></span></code></pre></td></tr></table></div></div><p>类型：</p><ul><li>C（Convention, 约定）</li><li>R（Refactor, 重构）</li><li>W（Warning, 警告）</li><li>E （Error, 错误）</li></ul><p>相关链接：</p><ul><li><a href=https://docs.pylint.org/>pylint官方文档</a></li><li><a href=http://pylint-messages.wikidot.com/all-messages>PyLint Messages</a></li></ul><h3 id=autopep8>autopep8<a hidden class=anchor aria-hidden=true href=#autopep8>#</a></h3><p>整理格式</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://120.79.76.172:8381/tags/python/>python</a></li></ul><nav class=paginav><a class=next href=http://120.79.76.172:8381/post/%E5%AE%89%E5%85%A8/><span class=title>Next »</span><br><span>安全</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=http://120.79.76.172:8381>haoyu blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>